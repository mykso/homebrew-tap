# This file was generated by GoReleaser. DO NOT EDIT.
cask "myks" do
  name "myks"
  desc "Configuration framework for Kubernetes applications"
  homepage "https://github.com/mykso/myks"
  version "5.8.0"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "myks"
  depends_on formula: [
      "git",
      "helm",
    ]

  on_macos do
    on_intel do
      url "https://github.com/mykso/myks/releases/download/v#{version}/myks_#{version}_darwin_amd64.tar.gz"
      sha256 "e55b53c9f6751fd54385fed658c2332661ea24e03d9bb70c8e39d647ca2612e0"
    end
    on_arm do
      url "https://github.com/mykso/myks/releases/download/v#{version}/myks_#{version}_darwin_arm64.tar.gz"
      sha256 "167cb0a76f41a7488db35019765f2d5c9b0e95d757674b9fd93dad95ddf4072a"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/mykso/myks/releases/download/v#{version}/myks_#{version}_linux_amd64.tar.gz"
      sha256 "65ad1a87559cd476c2e24fa58c8bd741ff85a5d3c185493270a868402102a305"
    end
    on_arm do
      url "https://github.com/mykso/myks/releases/download/v#{version}/myks_#{version}_linux_arm64.tar.gz"
      sha256 "c42000fc0792c257867a3ee930b1521df1d8145f40f71fde2a5f8f6c201b0710"
    end
  end

  postflight do
    if system_command("/usr/bin/xattr", args: ["-h"]).exit_status == 0
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/myks"]
    end
  end

  # No zap stanza required
end
